<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div class="container" id = 'container'>
        <div class="top">
            <div class="heads">Title Test Here!</div>
        </div>
        <div class="topleft">
            <button id = submitbook>Add Book to Library!</button>
        </div>
        

        <div class="leftcolumn" id = "leftcolumn">
            something goes here
        </div>
        <div class="middlearea">
            <div class="bookcard">
                <div class="titlelabel">Title:</div>
                <div class="title">The actual title goes here</div>
                <div class="authorlabel">Author:</div>
                <div class="author">Actual Author goes here</div>
                <div class="pageslabel">Pages:</div>
                <div class="pages">257</div>
                <div class="readlabel">Read?</div>
                <div class="read">Yes/No</div>
                <div class="changelabel">
                    <button>Change read status</button>
                </div>
                <div class="remove">
                    <button>Remove Book</button>
                </div>
            </div>
      
          
        </div>

        
        
    </div>
    
    <div class="formcontrol" id = 'formcontainer'>

        <form action="" id = "form">
        <div class="inputcontainer">
             <label for="bookname">Book Name:</label>
            <input type="text" id = 'bookname'>
        </div>
        
        <div class="inputcontainer">
            <label for="author">Author:</label>
            <input type="text" id ="author">
        </div>

        <div class="inputcontainer">
            <label for="pages"># Pages:</label>
            <input type="number" id = "pages">
        </div>
            

            <div class="radiobox">
                <div class = "radio-title">Did you read it?</div>
                <div class = "radio" id = 'radios'>
                    <label for="read">Yes</label>
                     <input type="radio" value = "yes" id = "read" name ="choice">
                </div>
                
                <div class = "radio" id = 'radios'>
                    <label for="notread">No</label>
                    <input type="radio" value ="no" id = "notread" name = "choice">
                </div>

            </div>
           

           <button type ="Submit" id = 'submitentry'>Submit Button bitches</button>
           <button type ="cancel">Cancel</button>

        </form>

    </div>
    

</body>

<script>

let myLibrary = [] //sets library to an empty array

//Book constructor
function Book(title, author, pages, read){
        this.title = title
        this.author = author
        this.pages = pages
        this.read = read
}

//constant values
const title = document.getElementById('bookname').value
const author = document.getElementById('author').value
const pages = document.getElementById('pages').value
var read = document.getElementById('read')
var notread = document.getElementById('notread')
const formcontainer = document.getElementById('formcontainer')

const submitBook = document.getElementById('submitbook')
const left = document.getElementById('leftcolumn')
const left2 = document.getElementById('leftcolumn')
const submitEntry = document.getElementById('submitentry')



//Submit new book Event for bringing up input form
submitBook.addEventListener('click', makeForm)
// Need to use preventDefaultfunction to stop data from being sent.
submitEntry.addEventListener('click', function(event){event.preventDefault()})
submitEntry.addEventListener('click', Check)
submitEntry.addEventListener('click', getData)
submitEntry.addEventListener('click', clearData)


// function to make the form
function makeForm(){
    const formValue = document.getElementById('formcontainer')
    formValue.setAttribute('style', 'display:flex; flex-direction:column')
    const body = document.getElementById('container')
    body.setAttribute('style','pointer-events:none; filter:blur(4px)')

}

//changes the read status depending on what is checked
function Check(){
    if(document.getElementById('read').checked){
        read = document.getElementById('read').value
    }
    else if(document.getElementById('notread').checked){
        read = document.getElementById('notread').value
    }
    return(read)
}

// function to get the form data and stores it in Book object
function getData(){
    const title = document.getElementById('bookname').value
    const author = document.getElementById('author').value
    const pages = document.getElementById('pages').value
    const newBook = new Book(title, author, pages, read)
    console.log(newBook)
    myLibrary.push(Book)
    console.log(myLibrary)
}

//function to clear input and make form invisible again
function clearData(){
    const title = document.getElementById('bookname').value = ''
    const author = document.getElementById('author').value = ''
    const pages = document.getElementById('pages').value = ''
    const notread = document.getElementById('notread').checked = false
    const read = document.getElementById('read').checked = false
    formcontainer.setAttribute('style', 'display:none')
    const body = document.getElementById('container')
    body.setAttribute('style','pointer-events:auto; filter:blur(0px)')
    
}

</script>
</html>